(()=>{var e={};e.id=287,e.ids=[287],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},96907:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(96007),r(22399),r(12874);var a=r(27105),s=r(15265),n=r(90157),o=r.n(n),i=r(44665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["backendtest",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,96007)),"/workspaces/CHEM/frontend/src/app/backendtest/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,93626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,22399)),"/workspaces/CHEM/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,12874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,93626))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspaces/CHEM/frontend/src/app/backendtest/page.tsx"],u="/backendtest/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/backendtest/page",pathname:"/backendtest",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65898:(e,t,r)=>{Promise.resolve().then(r.bind(r,41646))},17030:(e,t,r)=>{Promise.resolve().then(r.bind(r,38758))},67845:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,33817,23)),Promise.resolve().then(r.t.bind(r,19323,23)),Promise.resolve().then(r.t.bind(r,52204,23)),Promise.resolve().then(r.t.bind(r,60820,23)),Promise.resolve().then(r.t.bind(r,55915,23)),Promise.resolve().then(r.t.bind(r,81611,23))},41646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(19899),s=r(5507);let n="http://localhost:8000",o=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[d,c]=(0,s.useState)({email:"",firstName:"",lastName:"",role:"USER"}),[u,m]=(0,s.useState)({firstName:"",lastName:"",organizationId:""}),[p,h]=(0,s.useState)({name:"",description:""});(0,s.useEffect)(()=>{g(),x().then(()=>b())},[]);let g=async()=>{try{let e=await fetch(`${n}/users`),r=await e.json();t(r.result||[])}catch(e){console.error("Error fetching users:",e)}},b=async()=>{try{console.log("Fetching contributors...");let e=await fetch(`${n}/contributors`);console.log("Contributors response status:",e.status);let t=await e.json();console.log("Contributors data:",t),Array.isArray(t.contributors)?o(t.contributors):Array.isArray(t)?o(t):(console.error("Unexpected contributors data format:",t),o([]))}catch(e){console.error("Error fetching contributors:",e),o([])}},x=async()=>{try{console.log("Fetching organizations...");let e=await fetch(`${n}/organizations`);console.log("Organizations response status:",e.status);let t=await e.json();console.log("Organizations data:",t),Array.isArray(t.organizations)?l(t.organizations):Array.isArray(t)?l(t):(console.error("Unexpected organizations data format:",t),l([]))}catch(e){console.error("Error fetching organizations:",e),l([])}},f=(e,t)=>{t(t=>({...t,[e.target.name]:e.target.value}))},N=async(e,t)=>{e.preventDefault();try{let e=await fetch(`${n}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify("users"===t?d:"contributors"===t?u:p)});if(e.ok)"users"===t?g():"contributors"===t?(console.log("Contributor created, fetching updated list..."),await x(),await b()):(console.log("Organization created, fetching updated list..."),await x()),"users"===t?c({email:"",firstName:"",lastName:"",role:"USER"}):"contributors"===t?m({firstName:"",lastName:"",organizationId:""}):h({name:"",description:""});else{let r=await e.json();console.error(`Error creating ${t.slice(0,-1)}:`,r)}}catch(e){console.error(`Error creating ${t.slice(0,-1)}:`,e)}};return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[a.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Dashboard"}),(0,a.jsxs)("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Users"}),a.jsx("ul",{className:"mb-4 list-disc pl-5",children:e.map(e=>(0,a.jsxs)("li",{children:[e.firstName," ",e.lastName," (",e.email,") - ",e.role]},e.id))}),(0,a.jsxs)("form",{onSubmit:e=>N(e,"users"),className:"space-y-4",children:[a.jsx("input",{type:"email",name:"email",value:d.email,onChange:e=>f(e,c),placeholder:"Email",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),a.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:e=>f(e,c),placeholder:"First Name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),a.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:e=>f(e,c),placeholder:"Last Name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),(0,a.jsxs)("select",{name:"role",value:d.role,onChange:e=>f(e,c),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"USER",children:"User"}),a.jsx("option",{value:"ADMIN",children:"Admin"})]}),a.jsx("button",{type:"submit",className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Add User"})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Contributors"}),r.length>0?a.jsx("ul",{className:"mb-4 list-disc pl-5",children:r.map(e=>{let t=i.find(t=>t.id===e.organizationId);return(0,a.jsxs)("li",{children:[e.firstName," ",e.lastName," - Organization:"," ",t?t.name:"Unknown"]},e.id)})}):(0,a.jsxs)("p",{children:["No contributors found. ",JSON.stringify(r)]}),(0,a.jsxs)("form",{onSubmit:e=>N(e,"contributors"),className:"space-y-4",children:[a.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:e=>f(e,m),placeholder:"First Name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),a.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:e=>f(e,m),placeholder:"Last Name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),(0,a.jsxs)("select",{name:"organizationId",value:u.organizationId,onChange:e=>f(e,m),required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"",children:"Select Organization"}),i.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]}),a.jsx("button",{type:"submit",className:"rounded bg-green-500 px-4 py-2 text-white hover:bg-green-600",children:"Add Contributor"})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[a.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Organizations"}),i.length>0?a.jsx("ul",{className:"mb-4 list-disc pl-5",children:i.map(e=>(0,a.jsxs)("li",{children:[e.name," - ",e.description]},e.id))}):(0,a.jsxs)("p",{children:["No organizations found. ",JSON.stringify(i)]}),(0,a.jsxs)("form",{onSubmit:e=>N(e,"organizations"),className:"space-y-4",children:[a.jsx("input",{type:"text",name:"name",value:p.name,onChange:e=>f(e,h),placeholder:"Organization Name",required:!0,className:"block w-full rounded-md border-gray-300 shadow-sm"}),a.jsx("input",{type:"text",name:"description",value:p.description||"",onChange:e=>f(e,h),placeholder:"Description",className:"block w-full rounded-md border-gray-300 shadow-sm"}),a.jsx("button",{type:"submit",className:"rounded bg-purple-500 px-4 py-2 text-white hover:bg-purple-600",children:"Add Organization"})]})]})]})}},38758:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(19899),s=r(69851),n=r.n(s),o=r(67892),i=r(1206);r(54519);let l=new o.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function d({children:e}){return a.jsx("html",{lang:"en",children:a.jsx(i.aH,{client:l,children:a.jsx("body",{className:n().className,children:e})})})}},96007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2772).createProxy)(String.raw`/workspaces/CHEM/frontend/src/app/backendtest/page.tsx#default`)},22399:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2772).createProxy)(String.raw`/workspaces/CHEM/frontend/src/app/layout.tsx#default`)},93626:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(1645);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},54519:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[916,219,645],()=>r(96907));module.exports=a})();